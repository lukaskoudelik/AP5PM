"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4232],{4232:($,I,s)=>{s.r(I),s.d(I,{PlayerDetailPage:()=>A});var E=s(467),D=s(4341),r=s(4742),h=s(177),e=s(4438),u=s(7291),x=s(7159),j=s(9634),d=s(7891),p=s(7557),_=s(1572),f=s(1074);function g(a,l){if(1&a&&(e.j41(0,"ion-title"),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Lme("",t.player.first_name," ",t.player.second_name,"")}}function v(a,l){1&a&&(e.j41(0,"ion-title"),e.EFF(1,"Na\u010d\xedt\xe1m hr\xe1\u010de..."),e.k0s())}function R(a,l){if(1&a){const t=e.RV6();e.j41(0,"ion-button",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleFavorite(i.player,"player"))}),e.nrm(1,"ion-icon",17),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("color",t.isFavoriteItem("player",t.player.id)?"danger":"medium"),e.R7$(),e.HbH(t.isFavoriteItem("player",t.player.id)?"heart-icon-active-light":"heart-icon-deactive"),e.Y8G("name",t.isFavoriteItem("player",t.player.id)?"heart-circle":"heart-circle-outline")}}function F(a,l){if(1&a&&(e.j41(0,"ion-thumbnail",18),e.nrm(1,"img",19),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.FS9("alt",t.player.name),e.Y8G("src",t.player.photoUrl,e.B4B)}}function b(a,l){if(1&a&&(e.j41(0,"ion-col",8)(1,"ion-card-title"),e.EFF(2),e.k0s(),e.j41(3,"ion-card-subtitle"),e.EFF(4),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.Lme("",t.player.first_name," ",t.player.second_name,""),e.R7$(2),e.JRh(null==t.team?"voln\xfd hr\xe1\u010d":t.team.name)}}function k(a,l){if(1&a){const t=e.RV6();e.j41(0,"ion-segment",20),e.mxI("ngModelChange",function(i){e.eBV(t);const c=e.XpG();return e.DH7(c.selectedSegment,i)||(c.selectedSegment=i),e.Njj(i)}),e.j41(1,"ion-segment-button",21),e.EFF(2," Z\xe1pasy "),e.k0s(),e.j41(3,"ion-segment-button",22),e.EFF(4," Informace "),e.k0s()()}if(2&a){const t=e.XpG();e.R50("ngModel",t.selectedSegment)}}function C(a,l){if(1&a&&(e.j41(0,"ion-row",45)(1,"ion-col",41),e.nrm(2,"ion-icon",46),e.j41(3,"span",43),e.EFF(4),e.k0s()()()),2&a){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.player.team_id===t.home_team_id?"home-flex":"away-flex"),e.R7$(3),e.JRh(t.playerGoalsMinutes)}}function O(a,l){if(1&a&&(e.j41(0,"ion-row",45)(1,"ion-col",41),e.nrm(2,"ion-icon",47),e.j41(3,"span",43),e.EFF(4),e.k0s()()()),2&a){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.player.team_id===t.home_team_id?"home-flex":"away-flex"),e.R7$(3),e.JRh(t.yellowCardMinutes)}}function T(a,l){if(1&a&&(e.j41(0,"ion-row",45)(1,"ion-col",41)(2,"div",48),e.nrm(3,"ion-icon",49)(4,"ion-icon",50),e.k0s(),e.j41(5,"span",43),e.EFF(6),e.k0s()()()),2&a){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.player.team_id===t.home_team_id?"home-flex":"away-flex"),e.R7$(5),e.JRh(t.secondYellowCardMinutes)}}function P(a,l){if(1&a&&(e.j41(0,"ion-row",45)(1,"ion-col",41),e.nrm(2,"ion-icon",51),e.j41(3,"span",43),e.EFF(4),e.k0s()()()),2&a){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.player.team_id===t.home_team_id?"home-flex":"away-flex"),e.R7$(3),e.JRh(t.redCardMinutes)}}function w(a,l){if(1&a){const t=e.RV6();e.j41(0,"ion-item",26),e.bIt("click",function(){const i=e.eBV(t).$implicit,c=e.XpG(3);return e.Njj(c.goToGameDetail(i.id))}),e.j41(1,"ion-grid",27)(2,"div",28)(3,"ion-row",29)(4,"ion-col",30)(5,"p"),e.EFF(6),e.k0s()(),e.j41(7,"ion-col",31)(8,"p"),e.EFF(9),e.nI1(10,"date"),e.k0s()()(),e.j41(11,"div",32)(12,"ion-row",9)(13,"ion-col",33)(14,"div",34)(15,"ion-thumbnail",35),e.nrm(16,"img",19),e.k0s()()(),e.j41(17,"ion-col",36),e.EFF(18),e.k0s(),e.j41(19,"ion-col",33)(20,"div",37)(21,"p",38),e.EFF(22),e.k0s()()(),e.j41(23,"ion-col",39),e.EFF(24),e.k0s(),e.j41(25,"ion-col",33)(26,"div",34)(27,"ion-thumbnail",35),e.nrm(28,"img",19),e.k0s()()()(),e.j41(29,"ion-row",40)(30,"ion-col",41),e.nrm(31,"ion-icon",42),e.j41(32,"span",43),e.EFF(33),e.k0s()()(),e.DNE(34,C,5,2,"ion-row",44)(35,O,5,2,"ion-row",44)(36,T,7,2,"ion-row",44)(37,P,5,2,"ion-row",44),e.k0s()()()()}if(2&a){const t=l.$implicit;e.R7$(6),e.SpI("",t.round_number,". kolo"),e.R7$(3),e.JRh(e.i5U(10,15,t.date,"d. M. yyyy")),e.R7$(7),e.FS9("alt",t.homeTeam.name),e.Y8G("src",t.homeTeam.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",t.homeTeam.name," "),e.R7$(4),e.JRh(t.result),e.R7$(2),e.SpI(" ",t.awayTeam.name," "),e.R7$(4),e.FS9("alt",t.awayTeam.name),e.Y8G("src",t.awayTeam.photoUrl,e.B4B),e.R7$(2),e.Y8G("ngClass","home"===t.homeOrAway?"home-flex":"away-flex"),e.R7$(3),e.JRh(t.role),e.R7$(),e.Y8G("ngIf",t.playerGoalsCount>0),e.R7$(),e.Y8G("ngIf",t.yellowCardCount>0),e.R7$(),e.Y8G("ngIf",t.secondYellowCardCount>0),e.R7$(),e.Y8G("ngIf",t.redCardCount>0)}}function o(a,l){if(1&a&&(e.j41(0,"ion-list"),e.DNE(1,w,38,18,"ion-item",25),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.games)}}function m(a,l){1&a&&(e.j41(0,"div",52),e.nrm(1,"ion-spinner",53),e.j41(2,"p"),e.EFF(3,"Na\u010d\xedt\xe1m z\xe1pasy..."),e.k0s()())}function G(a,l){1&a&&(e.j41(0,"p",54),e.EFF(1,"\u017d\xe1dn\xe9 dostupn\xe9 z\xe1pasy."),e.k0s())}function S(a,l){if(1&a&&(e.j41(0,"div"),e.DNE(1,o,2,1,"ion-list",3)(2,m,4,0,"div",23)(3,G,2,0,"p",24),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.games.length>0&&!t.isLoadingGames),e.R7$(),e.Y8G("ngIf",t.isLoadingGames),e.R7$(),e.Y8G("ngIf",0==t.games.length&&t.player&&!t.isLoadingGames)}}function U(a,l){if(1&a){const t=e.RV6();e.j41(0,"ion-grid",7)(1,"ion-row",58),e.bIt("click",function(i){e.eBV(t);const c=e.XpG(3);return e.Njj(c.onItemClick(i,c.motherClub,"team"))}),e.j41(2,"div",59)(3,"ion-col",33)(4,"div",34)(5,"ion-thumbnail",35),e.nrm(6,"img",19),e.k0s()()(),e.j41(7,"ion-col",36),e.EFF(8),e.k0s(),e.nrm(9,"ion-ripple-effect"),e.k0s()()()}if(2&a){const t=e.XpG(3);e.R7$(6),e.FS9("alt",t.motherClub.name),e.Y8G("src",t.motherClub.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",t.motherClub.name," ")}}function B(a,l){if(1&a&&(e.j41(0,"div")(1,"h2",55),e.EFF(2,"Datum narozen\xed"),e.k0s(),e.j41(3,"p",56),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"h2",55),e.EFF(7,"V\u011bk"),e.k0s(),e.j41(8,"p",56),e.EFF(9),e.k0s(),e.j41(10,"h2",55),e.EFF(11,"Datum registrace"),e.k0s(),e.j41(12,"p",56),e.EFF(13),e.nI1(14,"date"),e.k0s(),e.j41(15,"h2",55),e.EFF(16,"\u010clen"),e.k0s(),e.j41(17,"p",56),e.EFF(18),e.k0s(),e.j41(19,"h2",55),e.EFF(20,"Status"),e.k0s(),e.j41(21,"p",56),e.EFF(22),e.k0s(),e.j41(23,"h2",55),e.EFF(24,"Mate\u0159sk\xfd klub"),e.k0s(),e.DNE(25,U,10,3,"ion-grid",57),e.k0s()),2&a){const t=e.XpG(2);e.R7$(4),e.JRh(e.i5U(5,6,t.player.birth_date,"d. M. yyyy")),e.R7$(5),e.SpI("",t.getPlayerAge(t.player.birth_date)," let"),e.R7$(4),e.JRh(e.i5U(14,9,t.player.registration_date,"d. M. yyyy")),e.R7$(5),e.JRh(t.player.active?"Aktivn\xed":"Neaktivn\xed"),e.R7$(4),e.JRh(t.player.status),e.R7$(3),e.Y8G("ngIf",t.motherClub)}}function Y(a,l){1&a&&(e.j41(0,"div",52),e.nrm(1,"ion-spinner",53),e.j41(2,"p"),e.EFF(3,"Na\u010d\xedt\xe1m informace..."),e.k0s()())}function L(a,l){if(1&a&&(e.j41(0,"div"),e.DNE(1,B,26,12,"div",3)(2,Y,4,0,"div",23),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.isLoadingInfo),e.R7$(),e.Y8G("ngIf",t.isLoadingInfo)}}let A=(()=>{var a;class l{constructor(n,i,c,y,M,X,W,N){this.route=n,this.router=i,this.tabsService=c,this.teamService=y,this.favouritesService=M,this.navigationService=X,this.gameService=W,this.playerService=N,this.activeTab="player",this.games=[],this.isLoadingGames=!0,this.isLoadingInfo=!0,this.favoritePlayers=[],this.selectedSegment="results"}ngOnInit(){var n=this;return(0,E.A)(function*(){n.isLoadingGames=!0,n.isLoadingInfo=!0,n.tabsService.setActiveTab(n.activeTab);const i=n.route.snapshot.paramMap.get("id");if(i)try{const c=yield n.playerService.getPlayer(i);if(!c)return;n.player=c;try{n.player.team_id&&(n.team=yield n.teamService.loadTeamForPlayer(n.player.team_id))}catch(y){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed t\xfdmu hr\xe1\u010de:",y)}try{n.games=yield n.gameService.loadPlayersGames(n.player.id)}catch(y){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed z\xe1pas\u016f hr\xe1\u010de:",y)}finally{n.isLoadingGames=!1}try{n.motherClub=yield n.teamService.getTeam(n.player.mother_club_id)}catch(y){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed mate\u0159sk\xe9ho klubu:",y)}finally{n.isLoadingInfo=!1}n.isFavoriteItem("player",n.player.id)}catch(c){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed dat hr\xe1\u010de:",c),n.isLoadingGames=!1,n.isLoadingInfo=!1}})()}navigateToTab(n){this.router.navigate([`../tabs/${n}`])}navigateToSearch(){this.router.navigate(["../search/"])}toggleFavorite(n,i){this.favouritesService.toggleFavorite(n,i)}isFavoriteItem(n,i){return this.favouritesService.isFavoriteItem(n,i)}onItemClick(n,i,c){this.navigationService.goToItem(n,i,c)}goToGameDetail(n){this.navigationService.goToGameDetail(n)}getPlayerAge(n){this.isLoadingInfo=!0;const i=new Date(n),c=new Date;let y=c.getFullYear()-i.getFullYear();const M=c.getMonth()-i.getMonth();return(M<0||0===M&&c.getDate()<i.getDate())&&y--,this.isLoadingInfo=!1,y}}return(a=l).\u0275fac=function(n){return new(n||a)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(x.q),e.rXU(j.n),e.rXU(d.c),e.rXU(p.o),e.rXU(_.w),e.rXU(f.x))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-player-detail"]],decls:20,vars:10,consts:[[3,"translucent"],["slot","start"],["menu","dynamic-menu"],[4,"ngIf"],["slot","end"],["slot","end","fill","clear",3,"color","click",4,"ngIf"],["defaultHref","/tabs/player"],[1,"nomp"],[1,"ion-padding"],[1,"ion-align-items-center"],["size","6rem"],["class","prf",4,"ngIf"],["class","ion-padding",4,"ngIf"],["scrollable","true",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","end","fill","clear",3,"click","color"],[3,"name"],[1,"prf"],[3,"src","alt"],["scrollable","true",3,"ngModelChange","ngModel"],["value","results"],["value","info"],["class","loading-message",4,"ngIf"],["class","ion-text-center ion-padding",4,"ngIf"],["class","no-border","button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",1,"no-border",3,"click"],["fixed","true",1,"p-nomar"],[1,"shadow-box"],[1,"roundanddate"],["size","6",1,"ion-text-left"],["size","6",1,"ion-text-right"],[1,"main-info"],["size","auto"],[1,"square-cell","square-logo"],[1,"small","fixed"],[1,"team-name-cell"],[1,"square-cell","square-double"],[1,"result"],[1,"team-name-cell","tnc-away","ion-text-right"],[1,"player-stats","stats-start"],[3,"ngClass"],["name","person"],[1,"text"],["class","player-stats",4,"ngIf"],[1,"player-stats"],["name","football"],["name","tablet-portrait",1,"yellow"],[1,"icon-wrapper"],["name","tablet-portrait",1,"top-half","yellow"],["name","tablet-portrait",1,"bottom-half","red"],["name","tablet-portrait",1,"red"],[1,"loading-message"],["name","bubbles"],[1,"ion-text-center","ion-padding"],[1,"tabhead","nomp","ion-text-center"],[1,"nomar","ion-padding"],["class","nomp",4,"ngIf"],[1,"table-team",3,"click"],[1,"ripple-wrapper","ion-activatable","ripple-parent","half-padding"]],template:function(n,i){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button",2),e.k0s(),e.DNE(4,g,2,2,"ion-title",3)(5,v,2,0,"ion-title",3),e.j41(6,"ion-buttons",4),e.DNE(7,R,2,4,"ion-button",5),e.nrm(8,"ion-back-button",6),e.k0s()()(),e.j41(9,"ion-content")(10,"ion-card",7)(11,"ion-grid",8)(12,"ion-row",9)(13,"ion-col",10),e.DNE(14,F,2,2,"ion-thumbnail",11),e.k0s(),e.DNE(15,b,5,3,"ion-col",12),e.k0s()()(),e.DNE(16,k,5,1,"ion-segment",13),e.j41(17,"div",14),e.DNE(18,S,4,3,"div",15)(19,L,3,2,"div",15),e.k0s()()),2&n&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("ngIf",i.player),e.R7$(),e.Y8G("ngIf",!i.player),e.R7$(2),e.Y8G("ngIf",i.player),e.R7$(7),e.Y8G("ngIf",i.player),e.R7$(),e.Y8G("ngIf",i.player),e.R7$(),e.Y8G("ngIf",i.player),e.R7$(),e.Y8G("ngSwitch",i.selectedSegment),e.R7$(),e.Y8G("ngSwitchCase","results"),e.R7$(),e.Y8G("ngSwitchCase","info"))},dependencies:[h.MD,h.YU,h.Sq,h.bT,h.ux,h.e1,h.vh,r.bv,r.Jm,r.QW,r.b_,r.HW,r.tN,r.hU,r.W9,r.lO,r.eU,r.iq,r.uz,r.nf,r.MC,r.S7,r.ln,r.Gp,r.eP,r.w2,r.Zx,r.BC,r.ai,r.Je,r.el,D.YN,D.BC,D.vS],styles:[".player-stats[_ngcontent-%COMP%]{font-size:.8rem;padding:.2rem .5rem}.player-stats[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.stats-start[_ngcontent-%COMP%]{padding-top:.5rem;margin-top:.5rem;border-top:solid 1px var(--ion-color-primary)}.yellow[_ngcontent-%COMP%]{color:gold}.icon-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;font-size:1rem}.icon-wrapper[_ngcontent-%COMP%]{position:relative;width:1rem;height:1rem}.top-half[_ngcontent-%COMP%]{clip-path:polygon(0 100%,100% 100%,0 0);color:gold}.bottom-half[_ngcontent-%COMP%]{clip-path:polygon(100% 0,100% 100%,0 0);color:#8b0000}.red[_ngcontent-%COMP%]{color:#8b0000}.home-flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:.4rem;width:100%}.away-flex[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:flex-start;align-items:center;gap:.4rem;width:100%}.table-team[_ngcontent-%COMP%]{font-size:1rem}"]}),l})()},1074:($,I,s)=>{s.d(I,{x:()=>e});var E=s(467),D=s(4438),r=s(4721),h=s(9939);let e=(()=>{var u;class x{constructor(d,p){this.playerRepo=d,this.imageRepo=p}getPlayersWithPhotos(d){var p=this;return(0,E.A)(function*(){try{let _;return _=d?yield p.playerRepo.getPlayersByTeamId(`${d}`):yield p.playerRepo.getPlayers(),yield Promise.all(_.map(function(){var g=(0,E.A)(function*(v){const R=yield p.imageRepo.getPhotoUrl(v.photo_url);return{...v,photoUrl:R}});return function(v){return g.apply(this,arguments)}}()))}catch(_){return console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed hr\xe1\u010d\u016f s fotkami:",_),[]}})()}getPlayer(d){var p=this;return(0,E.A)(function*(){try{const _=yield p.playerRepo.getPlayerById(d),f=yield p.imageRepo.getPhotoUrl(_.photo_url);return{..._,photoUrl:f}}catch(_){throw console.error("Error fetching player with photo URL:",_),_}})()}loadLineups(d){var p=this;return(0,E.A)(function*(){try{const _=yield p.playerRepo.getPlayersByGameId(d),f=yield Promise.all(_.map(function(){var o=(0,E.A)(function*(m){const G=yield p.playerRepo.getPlayerById(m.player_id);return{...m,player:G,id:G.id}});return function(m){return o.apply(this,arguments)}}())),g=["goalkeeper","defender","midfielder","attacker"],v=f.filter(o=>"home"===o.home_or_away&&"starter"===o.role).sort((o,m)=>g.indexOf(o.position)-g.indexOf(m.position)),R=f.filter(o=>"home"===o.home_or_away&&"bench"===o.role).sort((o,m)=>g.indexOf(o.position)-g.indexOf(m.position)),F=f.filter(o=>"away"===o.home_or_away&&"starter"===o.role).sort((o,m)=>g.indexOf(o.position)-g.indexOf(m.position)),b=f.filter(o=>"away"===o.home_or_away&&"bench"===o.role).sort((o,m)=>g.indexOf(o.position)-g.indexOf(m.position)),k=Math.max(v.length,F.length),C=Math.max(R.length,b.length),O=Array.from({length:k},(o,m)=>m),T=Array.from({length:C},(o,m)=>m),P={goalkeeper:0,defender:0,midfielder:0,attacker:0,other:0};return[...v,...R,...F,...b].forEach(o=>{switch(o.position){case"goalkeeper":P.goalkeeper++;break;case"defender":P.defender++;break;case"midfielder":P.midfielder++;break;case"attacker":P.attacker++;break;default:P.other++}}),{homeStarters:v,homeBench:R,awayStarters:F,awayBench:b,starters:k,benchers:C,startersIndexes:O,benchersIndexes:T,positionCounts:P}}catch(_){return console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed sestav:",_),{homeStarters:[],homeBench:[],awayStarters:[],awayBench:[],starters:0,benchers:0,startersIndexes:[],benchersIndexes:[],positionCounts:{goalkeeper:0,defender:0,midfielder:0,attacker:0,other:0}}}})()}}return(u=x).\u0275fac=function(d){return new(d||u)(D.KVO(r.I),D.KVO(h.U))},u.\u0275prov=D.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),x})()}}]);