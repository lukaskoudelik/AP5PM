"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6029],{6029:(Y,G,s)=>{s.r(G),s.d(G,{SearchPage:()=>he});var I=s(467),v=s(4341),c=s(4742),S=s(177),F=s(7291),P=s(1413),E=s(6648),y=s(8359);class b extends y.yU{constructor(a,t){super()}schedule(a,t=0){return this}}const R={setInterval(n,a,...t){const{delegate:o}=R;return null!=o&&o.setInterval?o.setInterval(n,a,...t):setInterval(n,a,...t)},clearInterval(n){const{delegate:a}=R;return((null==a?void 0:a.clearInterval)||clearInterval)(n)},delegate:void 0};var u=s(7908);const h={now:()=>(h.delegate||Date).now(),delegate:void 0};class _{constructor(a,t=_.now){this.schedulerActionCtor=a,this.now=t}schedule(a,t=0,o){return new this.schedulerActionCtor(this,a).schedule(o,t)}}_.now=h.now;const p=new class f extends _{constructor(a,t=_.now){super(a,t),this.actions=[],this._active=!1}flush(a){const{actions:t}=this;if(this._active)return void t.push(a);let o;this._active=!0;do{if(o=a.execute(a.state,a.delay))break}while(a=t.shift());if(this._active=!1,o){for(;a=t.shift();)a.unsubscribe();throw o}}}(class m extends b{constructor(a,t){super(a,t),this.scheduler=a,this.work=t,this.pending=!1}schedule(a,t=0){var o;if(this.closed)return this;this.state=a;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(r,this.id,t),this}requestAsyncId(a,t,o=0){return R.setInterval(a.flush.bind(a,this),o)}recycleAsyncId(a,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&R.clearInterval(t)}execute(a,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(a,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,t){let i,o=!1;try{this.work(a)}catch(r){o=!0,i=r||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:a,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,u.o)(o,this),null!=a&&(this.id=this.recycleAsyncId(t,a,null)),this.delay=null,super.unsubscribe()}}});var g=s(9974),T=s(4360),k=s(3294),C=s(5558),e=s(4438),N=s(2872),V=s(7891),O=s(7557),w=s(5271);function X(n,a){1&n&&(e.j41(0,"div",13),e.nrm(1,"ion-spinner",14),e.j41(2,"p"),e.EFF(3,"Na\u010d\xedt\xe1m v\xfdsledky..."),e.k0s()())}function B(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-item",18),e.bIt("click",function(i){const r=e.eBV(t).$implicit,l=e.XpG(4);return e.Njj(l.onItemClick(i,r,r.type))}),e.j41(1,"ion-grid",19)(2,"ion-row",20)(3,"ion-col",21)(4,"div",22)(5,"ion-thumbnail",23),e.nrm(6,"img",24),e.k0s()()(),e.j41(7,"ion-col",25),e.EFF(8),e.k0s(),e.j41(9,"ion-col",21)(10,"div",26)(11,"ion-button",27),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.toggleFavorite(i,i.type))}),e.nrm(12,"ion-icon",28),e.k0s()()()()()()}if(2&n){const t=a.$implicit,o=e.XpG(4);e.R7$(6),e.FS9("alt",t.name),e.Y8G("src",t.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(3),e.Y8G("color",t.isFavorite?"danger":"medium"),e.R7$(),e.HbH(o.isFavoriteItem(t.type,t.id)?"heart-icon-active":"heart-icon-deactive-light"),e.Y8G("name",o.isFavoriteItem(t.type,t.id)?"heart-circle":"heart-circle-outline")}}function A(n,a){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,B,13,7,"ion-item",17),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.filteredResults.all)}}function U(n,a){1&n&&(e.j41(0,"p",29),e.EFF(1," \u017d\xe1dn\xe9 v\xfdsledky nenalezeny. "),e.k0s())}function L(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-infinite-scroll",31),e.bIt("ionInfinite",function(i){e.eBV(t);const r=e.XpG(4);return e.Njj(r.loadNextPage(r.searchQuery,"all",i))}),e.nrm(1,"ion-infinite-scroll-content",32),e.k0s()}}function H(n,a){if(1&n&&(e.qex(0),e.DNE(1,L,2,0,"ion-infinite-scroll",30),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t.noMoreData.all)}}function W(n,a){if(1&n&&(e.j41(0,"div"),e.DNE(1,A,2,1,"ion-list",15)(2,U,2,0,"p",16)(3,H,2,1,"ng-container",15),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.filteredResults.all.length>0),e.R7$(),e.Y8G("ngIf",0===t.filteredResults.all.length&&""!==t.searchQuery&&!t.loadingMore.all),e.R7$(),e.Y8G("ngIf",t.isInfiniteScrollVisible)}}function Q(n,a){if(1&n&&(e.j41(0,"div",11),e.DNE(1,W,4,3,"div",12),e.k0s()),2&n){const t=e.XpG();e.Y8G("ngSwitch",t.filter),e.R7$(),e.Y8G("ngSwitchCase","all")}}function K(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-item",18),e.bIt("click",function(i){const r=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.onItemClick(i,r,r.type))}),e.j41(1,"ion-grid",19)(2,"ion-row",20)(3,"ion-col",21)(4,"div",22)(5,"ion-thumbnail",23),e.nrm(6,"img",24),e.k0s()()(),e.j41(7,"ion-col",25),e.EFF(8),e.k0s(),e.j41(9,"ion-col",21)(10,"div",26)(11,"ion-button",27),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.toggleFavorite(i,i.type))}),e.nrm(12,"ion-icon",28),e.k0s()()()()()()}if(2&n){const t=a.$implicit,o=e.XpG(3);e.R7$(6),e.FS9("alt",t.name),e.Y8G("src",t.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(3),e.Y8G("color",t.isFavorite?"danger":"medium"),e.R7$(),e.HbH(o.isFavoriteItem(t.type,t.id)?"heart-icon-active":"heart-icon-deactive-light"),e.Y8G("name",o.isFavoriteItem(t.type,t.id)?"heart-circle":"heart-circle-outline")}}function z(n,a){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,K,13,7,"ion-item",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.filteredResults.team)}}function J(n,a){1&n&&(e.j41(0,"p",29),e.EFF(1," \u017d\xe1dn\xe9 v\xfdsledky nenalezeny. "),e.k0s())}function Z(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-infinite-scroll",31),e.bIt("ionInfinite",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.loadNextPage(r.searchQuery,"team",i))}),e.nrm(1,"ion-infinite-scroll-content",32),e.k0s()}}function q(n,a){if(1&n&&(e.qex(0),e.DNE(1,Z,2,0,"ion-infinite-scroll",30),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.noMoreData.team)}}function ee(n,a){if(1&n&&(e.j41(0,"div"),e.DNE(1,z,2,1,"ion-list",15)(2,J,2,0,"p",16)(3,q,2,1,"ng-container",15),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.filteredResults.team.length>0),e.R7$(),e.Y8G("ngIf",0===t.filteredResults.team.length&&""!==t.searchQuery&&!t.loadingMore.team),e.R7$(),e.Y8G("ngIf",t.isInfiniteScrollVisible)}}function te(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-item",18),e.bIt("click",function(i){const r=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.onItemClick(i,r,r.type))}),e.j41(1,"ion-grid",19)(2,"ion-row",20)(3,"ion-col",21)(4,"div",22)(5,"ion-thumbnail",23),e.nrm(6,"img",24),e.k0s()()(),e.j41(7,"ion-col",25),e.EFF(8),e.k0s(),e.j41(9,"ion-col",21)(10,"div",26)(11,"ion-button",27),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.toggleFavorite(i,i.type))}),e.nrm(12,"ion-icon",28),e.k0s()()()()()()}if(2&n){const t=a.$implicit,o=e.XpG(3);e.R7$(6),e.FS9("alt",t.name),e.Y8G("src",t.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(3),e.Y8G("color",t.isFavorite?"danger":"medium"),e.R7$(),e.HbH(o.isFavoriteItem(t.type,t.id)?"heart-icon-active":"heart-icon-deactive-light"),e.Y8G("name",o.isFavoriteItem(t.type,t.id)?"heart-circle":"heart-circle-outline")}}function ie(n,a){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,te,13,7,"ion-item",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.filteredResults.league)}}function ne(n,a){1&n&&(e.j41(0,"p",29),e.EFF(1," \u017d\xe1dn\xe9 v\xfdsledky nenalezeny. "),e.k0s())}function oe(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-infinite-scroll",31),e.bIt("ionInfinite",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.loadNextPage(r.searchQuery,"league",i))}),e.nrm(1,"ion-infinite-scroll-content",32),e.k0s()}}function ae(n,a){if(1&n&&(e.qex(0),e.DNE(1,oe,2,0,"ion-infinite-scroll",30),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.noMoreData.league)}}function re(n,a){if(1&n&&(e.j41(0,"div"),e.DNE(1,ie,2,1,"ion-list",15)(2,ne,2,0,"p",16)(3,ae,2,1,"ng-container",15),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.filteredResults.league.length>0),e.R7$(),e.Y8G("ngIf",0===t.filteredResults.league.length&&""!==t.searchQuery&&!t.loadingMore.league),e.R7$(),e.Y8G("ngIf",t.isInfiniteScrollVisible)}}function le(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-item",18),e.bIt("click",function(i){const r=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.onItemClick(i,r,r.type))}),e.j41(1,"ion-grid",19)(2,"ion-row",20)(3,"ion-col",21)(4,"div",22)(5,"ion-thumbnail",23),e.nrm(6,"img",24),e.k0s()()(),e.j41(7,"ion-col",25),e.EFF(8),e.k0s(),e.j41(9,"ion-col",21)(10,"div",26)(11,"ion-button",27),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.toggleFavorite(i,i.type))}),e.nrm(12,"ion-icon",28),e.k0s()()()()()()}if(2&n){const t=a.$implicit,o=e.XpG(3);e.R7$(6),e.FS9("alt",t.name),e.Y8G("src",t.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(3),e.Y8G("color",t.isFavorite?"danger":"medium"),e.R7$(),e.HbH(o.isFavoriteItem(t.type,t.id)?"heart-icon-active":"heart-icon-deactive-light"),e.Y8G("name",o.isFavoriteItem(t.type,t.id)?"heart-circle":"heart-circle-outline")}}function se(n,a){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,le,13,7,"ion-item",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.filteredResults.player)}}function ce(n,a){1&n&&(e.j41(0,"p",29),e.EFF(1," \u017d\xe1dn\xe9 v\xfdsledky nenalezeny. "),e.k0s())}function _e(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-infinite-scroll",31),e.bIt("ionInfinite",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.loadNextPage(r.searchQuery,"player",i))}),e.nrm(1,"ion-infinite-scroll-content",32),e.k0s()}}function ue(n,a){if(1&n&&(e.qex(0),e.DNE(1,_e,2,0,"ion-infinite-scroll",30),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.noMoreData.player)}}function de(n,a){if(1&n&&(e.j41(0,"div"),e.DNE(1,se,2,1,"ion-list",15)(2,ce,2,0,"p",16)(3,ue,2,1,"ng-container",15),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.filteredResults.player.length>0),e.R7$(),e.Y8G("ngIf",0===t.filteredResults.player.length&&""!==t.searchQuery&&!t.loadingMore.player),e.R7$(),e.Y8G("ngIf",t.isInfiniteScrollVisible)}}let he=(()=>{var n;class a{constructor(o,i,r,l){this.navController=o,this.favouritesService=i,this.navigationService=r,this.searchService=l,this.searchQuery="",this.filter="all",this.isInfiniteScrollVisible=!0,this.newItemsCount=0,this.isLoading=!1,this.filteredResults={all:[],team:[],player:[],league:[]},this.loadingMore={all:!1,team:!1,player:!1,league:!1},this.noMoreData={all:!1,team:!1,player:!1,league:!1},this.currentPage={all:0,team:0,player:0,league:0},this.itemsPerPage=20,this.dataLoaded={all:!1,team:!1,player:!1,league:!1},this.favorites=new Set,this.destroy$=new P.B,this.searchSubject=new P.B}ngOnInit(){this.searchSubject.pipe(function $(n,a=p){return(0,g.N)((t,o)=>{let i=null,r=null,l=null;const j=()=>{if(i){i.unsubscribe(),i=null;const D=r;r=null,o.next(D)}};function x(){const D=l+n,M=a.now();if(M<D)return i=this.schedule(void 0,D-M),void o.add(i);j()}t.subscribe((0,T._)(o,D=>{r=D,l=a.now(),i||(i=a.schedule(x,n),o.add(i))},()=>{j(),o.complete()},void 0,()=>{r=i=null}))})}(300),(0,k.F)((o,i)=>o.query===i.query&&o.filter===i.filter),(0,C.n)(({query:o,filter:i})=>(this.isLoading=!0,(0,E.H)(this.loadData(o,i))))).subscribe(()=>{this.isLoading=!1}),this.dataLoaded[this.filter]||this.searchSubject.next({query:this.searchQuery,filter:this.filter})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.searchSubject.complete()}onSearchInput(o,i){this.searchSubject.next({query:o,filter:i})}loadData(o,i){var r=this;return(0,I.A)(function*(){try{r.isInfiniteScrollVisible=!1,setTimeout(()=>{r.isInfiniteScrollVisible=!0},0),r.currentPage[i]=0,r.filteredResults[i]=[],r.dataLoaded[i]=!1,r.loadingMore[i]=!1,r.noMoreData[i]=!1,yield r.loadNextPage(o,i),r.dataLoaded[i]=!0}catch(l){console.error("Error loading data:",l)}})()}loadNextPage(o,i,r){var l=this;return(0,I.A)(function*(){if(!l.loadingMore[i]){l.loadingMore[i]=!0,l.newItemsCount=0;try{const{newItemsCount:j,formattedResults:x}=yield l.searchService.loadNextPage(o,i,l.currentPage[i],l.itemsPerPage);"all"===i?l.filteredResults.all=[...l.filteredResults.all,...x]:l.filteredResults[i]=[...l.filteredResults[i],...x],l.newItemsCount=j,l.newItemsCount<l.itemsPerPage&&(l.noMoreData[i]=!0),l.currentPage[i]++,r&&r.target.complete()}catch(j){console.error("Error loading more data:",j)}finally{l.loadingMore[i]=!1}}})()}toggleFavorite(o,i){this.favouritesService.toggleFavorite(o,i)}goBack(){this.navController.back()}onItemClick(o,i,r){this.navigationService.goToItem(o,i,r)}isFavoriteItem(o,i){return this.favouritesService.isFavoriteItem(o,i)}}return(n=a).\u0275fac=function(o){return new(o||n)(e.rXU(N.q9),e.rXU(V.c),e.rXU(O.o),e.rXU(w.S))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-search"]],decls:23,vars:11,consts:[[3,"translucent"],["placeholder","Hledat...",3,"ngModelChange","ionInput","ngModel"],["slot","end"],["defaultHref","/tabs/team"],["scrollable","true",1,"fltr",3,"ngModelChange","ionChange","ngModel"],["value","all"],["value","team"],["value","league"],["value","player"],["class","loading-message",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"loading-message"],["name","bubbles"],[4,"ngIf"],["class","ion-padding ion-text-center",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"nomp"],[1,"league-row"],["size","auto"],[1,"square-cell","square-logo"],["slot","start",1,"small","fixed"],[3,"src","alt"],[1,"team-name-cell"],[1,"square-cell","square-inner"],["slot","end","fill","clear",3,"click","color"],[3,"name"],[1,"ion-padding","ion-text-center"],[3,"ionInfinite",4,"ngIf"],[3,"ionInfinite"],["loadingSpinner","bubbles",1,"ion-padding"]],template:function(o,i){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-searchbar",1),e.mxI("ngModelChange",function(l){return e.DH7(i.searchQuery,l)||(i.searchQuery=l),l}),e.bIt("ionInput",function(){return i.onSearchInput(i.searchQuery,i.filter)}),e.k0s(),e.j41(3,"ion-buttons",2),e.nrm(4,"ion-back-button",3),e.k0s()(),e.j41(5,"ion-segment",4),e.mxI("ngModelChange",function(l){return e.DH7(i.filter,l)||(i.filter=l),l}),e.bIt("ionChange",function(){return i.loadData(i.searchQuery,i.filter)}),e.j41(6,"ion-segment-button",5),e.EFF(7," V\u0160E "),e.k0s(),e.j41(8,"ion-segment-button",6),e.EFF(9," T\xddMY "),e.k0s(),e.j41(10,"ion-segment-button",7),e.EFF(11," SOUT\u011a\u017dE "),e.k0s(),e.j41(12,"ion-segment-button",8),e.EFF(13," HR\xc1\u010cI "),e.k0s()()(),e.j41(14,"ion-content"),e.DNE(15,X,4,0,"div",9)(16,Q,2,2,"div",10),e.j41(17,"div",11),e.DNE(18,ee,4,3,"div",12),e.k0s(),e.j41(19,"div",11),e.DNE(20,re,4,3,"div",12),e.k0s(),e.j41(21,"div",11),e.DNE(22,de,4,3,"div",12),e.k0s()()),2&o&&(e.Y8G("translucent",!0),e.R7$(2),e.R50("ngModel",i.searchQuery),e.R7$(3),e.R50("ngModel",i.filter),e.R7$(10),e.Y8G("ngIf",i.isLoading),e.R7$(),e.Y8G("ngIf",!i.isLoading),e.R7$(),e.Y8G("ngSwitch",i.filter),e.R7$(),e.Y8G("ngSwitchCase","team"),e.R7$(),e.Y8G("ngSwitch",i.filter),e.R7$(),e.Y8G("ngSwitchCase","league"),e.R7$(),e.Y8G("ngSwitch",i.filter),e.R7$(),e.Y8G("ngSwitchCase","player"))},dependencies:[S.MD,S.Sq,S.bT,S.ux,S.e1,c.bv,c.Jm,c.QW,c.hU,c.W9,c.lO,c.eU,c.iq,c.Ax,c.Hp,c.uz,c.nf,c.ln,c.S1,c.Gp,c.eP,c.w2,c.Zx,c.ai,c.Je,c.Gw,c.el,v.YN,v.BC,v.vS,F.iI],styles:["ion-searchbar[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-color-tab);--icon-color: var(--ion-color-tab);--clear-button-color: var(--ion-color-tab);--box-shadow: none;padding:0}ion-segment-button[_ngcontent-%COMP%]{margin-top:1rem}ion-list[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}"]}),a})()},5271:(Y,G,s)=>{s.d(G,{S:()=>E});var I=s(467),v=s(4438),c=s(7497),S=s(689),F=s(4721),P=s(9939);let E=(()=>{var y;class b{constructor(u,m,h,_){this.teamRepo=u,this.leagueRepo=m,this.playerRepo=h,this.imageRepo=_}loadNextPage(u,m,h,_){var f=this;return(0,I.A)(function*(){let p=0,d=[];if("team"===m){const g=yield f.teamRepo.getTeamsWithOffset(u,h,_);d=yield f.formatData(g,"team"),p=d.length}else if("league"===m){const g=yield f.leagueRepo.getLeaguesWithOffset(u,h,_);d=yield f.formatData(g,"league"),p=d.length}else if("player"===m){const g=yield f.playerRepo.getPlayersWithOffset(u,h,_);d=yield f.formatData(g,"player"),p=d.length}else{const g=yield f.teamRepo.getTeamsWithOffset(u,h,_),T=yield f.leagueRepo.getLeaguesWithOffset(u,h,_),$=yield f.playerRepo.getPlayersWithOffset(u,h,_);d=[...yield f.formatData(g,"team"),...yield f.formatData(T,"league"),...yield f.formatData($,"player")],p=d.length}return{newItemsCount:p,formattedResults:d}})()}formatData(u,m){var h=this;return(0,I.A)(function*(){const _=[],f=localStorage.getItem("favorites"),p=f?new Set(JSON.parse(f)):new Set;for(const d of u){const g=yield h.imageRepo.getPhotoUrl(d.photo_url);_.push({id:d.id,name:d.name||`${d.first_name} ${d.second_name}`,type:m,photoUrl:g,isFavorite:p.has(`${m}:${d.id}`)})}return _})()}loadAll(u,m){var h=this;return(0,I.A)(function*(){try{let _=[];"league"==u?_=yield h.leagueRepo.getLeagues():"team"==u?_=yield h.teamRepo.getTeams():"player"==u&&(_=yield h.playerRepo.getPlayers());const p=[...yield h.formatData(_,u)],d=p.filter(g=>g.name.toLowerCase().includes(m.toLowerCase()));return[p,d]}catch(_){return console.error("Error loading data:",_),[]}})()}}return(y=b).\u0275fac=function(u){return new(u||y)(v.KVO(c._),v.KVO(S.C),v.KVO(F.I),v.KVO(P.U))},y.\u0275prov=v.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),b})()}}]);