"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[596],{596:(S,R,l)=>{l.r(R),l.d(R,{TeamDetailPage:()=>ae});var f=l(467),v=l(4341),s=l(4742),T=l(177),e=l(4438),u=l(7291),D=l(7159),b=l(9634),_=l(7891),m=l(7557),r=l(8378),p=l(1572),h=l(1029),y=l(1074);const F=(t,n,i)=>({"highlighted-club":t,"row-even":n,"row-odd":i});function I(t,n){if(1&t&&(e.j41(0,"ion-title"),e.EFF(1),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.JRh(i.team.name)}}function k(t,n){1&t&&(e.j41(0,"ion-title"),e.EFF(1,"Na\u010d\xedt\xe1m t\xfdm..."),e.k0s())}function j(t,n){if(1&t){const i=e.RV6();e.j41(0,"ion-button",11),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.toggleFavorite(o.team,"team"))}),e.nrm(1,"ion-icon",12),e.k0s()}if(2&t){const i=e.XpG();e.Y8G("color",i.isFavoriteItem("team",i.team.id)?"danger":"medium"),e.R7$(),e.HbH(i.isFavoriteItem("team",i.team.id)?"heart-icon-active-light":"heart-icon-deactive"),e.Y8G("name",i.isFavoriteItem("team",i.team.id)?"heart-circle":"heart-circle-outline")}}function G(t,n){if(1&t&&(e.j41(0,"ion-thumbnail",19),e.nrm(1,"img",20),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.FS9("alt",i.team.name),e.Y8G("src",i.team.photoUrl,e.B4B)}}function $(t,n){if(1&t&&(e.j41(0,"ion-col",14)(1,"ion-card-title"),e.EFF(2),e.k0s(),e.j41(3,"ion-card-subtitle"),e.EFF(4),e.k0s()()),2&t){const i=e.XpG(2);e.R7$(2),e.JRh(i.team.name),e.R7$(2),e.JRh(i.league.name)}}function O(t,n){if(1&t&&(e.j41(0,"ion-card",13)(1,"ion-grid",14)(2,"ion-row",15)(3,"ion-col",16),e.DNE(4,G,2,2,"ion-thumbnail",17),e.k0s(),e.DNE(5,$,5,2,"ion-col",18),e.k0s()()()),2&t){const i=e.XpG();e.R7$(4),e.Y8G("ngIf",i.team),e.R7$(),e.Y8G("ngIf",i.league&&i.team)}}function P(t,n){if(1&t){const i=e.RV6();e.j41(0,"ion-segment",21),e.mxI("ngModelChange",function(o){e.eBV(i);const d=e.XpG();return e.DH7(d.selectedSegment,o)||(d.selectedSegment=o),e.Njj(o)}),e.j41(1,"ion-segment-button",22),e.EFF(2," V\xfdsledky "),e.k0s(),e.j41(3,"ion-segment-button",23),e.EFF(4," Program "),e.k0s(),e.j41(5,"ion-segment-button",24),e.EFF(6," Tabulka "),e.k0s(),e.j41(7,"ion-segment-button",25),e.EFF(8," Soupiska "),e.k0s()()}if(2&t){const i=e.XpG();e.R50("ngModel",i.selectedSegment)}}function L(t,n){if(1&t){const i=e.RV6();e.j41(0,"ion-item",29),e.bIt("click",function(){const o=e.eBV(i).$implicit,d=e.XpG(3);return e.Njj(d.goToGameDetail(o.id))}),e.j41(1,"ion-grid",30)(2,"div",31)(3,"ion-row",32)(4,"ion-col",33)(5,"p"),e.EFF(6),e.k0s()(),e.j41(7,"ion-col",34)(8,"p"),e.EFF(9),e.nI1(10,"date"),e.k0s()()(),e.j41(11,"ion-row",35)(12,"ion-col",36)(13,"div",37)(14,"ion-thumbnail",38),e.nrm(15,"img",20),e.k0s()()(),e.j41(16,"ion-col",39),e.EFF(17),e.k0s(),e.j41(18,"ion-col",36)(19,"div",40)(20,"p",41),e.EFF(21),e.k0s()()(),e.j41(22,"ion-col",42),e.EFF(23),e.k0s(),e.j41(24,"ion-col",36)(25,"div",37)(26,"ion-thumbnail",38),e.nrm(27,"img",20),e.k0s()()()()()()()}if(2&t){const i=n.$implicit;e.R7$(6),e.SpI("",i.round_number,". kolo"),e.R7$(3),e.JRh(e.i5U(10,9,i.date,"dd. MM. yyyy")),e.R7$(6),e.FS9("alt",i.homeTeam.name),e.Y8G("src",i.homeTeam.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",i.homeTeam.name," "),e.R7$(4),e.JRh(i.result),e.R7$(2),e.SpI(" ",i.awayTeam.name," "),e.R7$(4),e.FS9("alt",i.awayTeam.name),e.Y8G("src",i.awayTeam.photoUrl,e.B4B)}}function c(t,n){if(1&t&&(e.j41(0,"ion-list"),e.DNE(1,L,28,12,"ion-item",28),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.gamesPlayed)}}function g(t,n){1&t&&(e.j41(0,"div",43),e.nrm(1,"ion-spinner",44),e.j41(2,"p"),e.EFF(3,"Na\u010d\xedt\xe1m z\xe1pasy..."),e.k0s()())}function x(t,n){1&t&&(e.j41(0,"p",45),e.EFF(1,"\u017d\xe1dn\xe9 dostupn\xe9 z\xe1pasy."),e.k0s())}function M(t,n){if(1&t&&(e.j41(0,"div"),e.DNE(1,c,2,1,"ion-list",3)(2,g,4,0,"div",26)(3,x,2,0,"p",27),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.gamesPlayed.length>0&&!i.isLoadingGames),e.R7$(),e.Y8G("ngIf",i.isLoadingGames),e.R7$(),e.Y8G("ngIf",0==i.gamesPlayed.length&&i.team&&!i.isLoadingGames)}}function U(t,n){if(1&t){const i=e.RV6();e.j41(0,"ion-item",29),e.bIt("click",function(){const o=e.eBV(i).$implicit,d=e.XpG(3);return e.Njj(d.goToGameDetail(o.id))}),e.j41(1,"ion-grid",30)(2,"div",31)(3,"ion-row",32)(4,"ion-col",33)(5,"p"),e.EFF(6),e.k0s()(),e.j41(7,"ion-col",34)(8,"p"),e.EFF(9),e.nI1(10,"date"),e.k0s()()(),e.j41(11,"ion-row",35)(12,"ion-col",36)(13,"div",37)(14,"ion-thumbnail",38),e.nrm(15,"img",20),e.k0s()()(),e.j41(16,"ion-col",39),e.EFF(17),e.k0s(),e.j41(18,"ion-col",36)(19,"div",40)(20,"p",41),e.EFF(21),e.nI1(22,"date"),e.k0s()()(),e.j41(23,"ion-col",42),e.EFF(24),e.k0s(),e.j41(25,"ion-col",36)(26,"div",46)(27,"ion-thumbnail",38),e.nrm(28,"img",20),e.k0s()()()()()()()}if(2&t){const i=n.$implicit;e.R7$(6),e.SpI("",i.round_number,". kolo"),e.R7$(3),e.JRh(e.i5U(10,9,i.date,"dd. MM. yyyy")),e.R7$(6),e.FS9("alt",i.homeTeam.name),e.Y8G("src",i.homeTeam.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",i.homeTeam.name," "),e.R7$(4),e.JRh(e.i5U(22,12,i.date,"HH:mm")),e.R7$(3),e.SpI(" ",i.awayTeam.name," "),e.R7$(4),e.FS9("alt",i.awayTeam.name),e.Y8G("src",i.awayTeam.photoUrl,e.B4B)}}function B(t,n){if(1&t&&(e.j41(0,"ion-list"),e.DNE(1,U,29,15,"ion-item",28),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.gamesToPlay)}}function C(t,n){1&t&&(e.j41(0,"div",43),e.nrm(1,"ion-spinner",44),e.j41(2,"p"),e.EFF(3,"Na\u010d\xedt\xe1m z\xe1pasy..."),e.k0s()())}function Y(t,n){1&t&&(e.j41(0,"p",45),e.EFF(1,"\u017d\xe1dn\xe9 dostupn\xe9 z\xe1pasy."),e.k0s())}function A(t,n){if(1&t&&(e.j41(0,"div"),e.DNE(1,B,2,1,"ion-list",3)(2,C,4,0,"div",26)(3,Y,2,0,"p",27),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.gamesToPlay.length>0&&!i.isLoadingGames),e.R7$(),e.Y8G("ngIf",i.isLoadingGames),e.R7$(),e.Y8G("ngIf",0==i.gamesToPlay.length&&i.team&&!i.isLoadingGames)}}function w(t,n){if(1&t&&(e.j41(0,"div",62),e.EFF(1),e.k0s()),2&t){const i=e.XpG().index;e.R7$(),e.SpI("",i+1,".")}}function X(t,n){if(1&t&&(e.j41(0,"div",63),e.EFF(1),e.k0s()),2&t){const i=e.XpG().index;e.R7$(),e.SpI("",i+1,".")}}function N(t,n){if(1&t&&(e.j41(0,"div",64),e.EFF(1),e.k0s()),2&t){const i=e.XpG().index;e.R7$(),e.SpI("",i+1,".")}}function W(t,n){if(1&t){const i=e.RV6();e.j41(0,"ion-row",55),e.bIt("click",function(o){const d=e.eBV(i).$implicit,E=e.XpG(3);return e.Njj(E.onItemClick(o,d,"team"))}),e.j41(1,"div",56)(2,"ion-col",36),e.DNE(3,w,2,1,"div",57)(4,X,2,1,"div",58)(5,N,2,1,"div",59),e.k0s(),e.j41(6,"ion-col",36)(7,"div",46)(8,"ion-thumbnail",38),e.nrm(9,"img",20),e.k0s()()(),e.j41(10,"ion-col",39),e.EFF(11),e.k0s(),e.j41(12,"ion-col",36)(13,"div",60),e.EFF(14),e.k0s()(),e.j41(15,"ion-col",36)(16,"div",40),e.EFF(17),e.k0s()(),e.j41(18,"ion-col",36)(19,"div",61),e.EFF(20),e.k0s()(),e.nrm(21,"ion-ripple-effect"),e.k0s()()}if(2&t){const i=n.$implicit,a=n.index,o=e.XpG(3);e.Y8G("ngClass",e.sMw(11,F,i.id===o.team.id,a%2==0,a%2!=0)),e.R7$(3),e.Y8G("ngIf",0==a),e.R7$(),e.Y8G("ngIf",9==a),e.R7$(),e.Y8G("ngIf",0!=a&&9!=a),e.R7$(4),e.FS9("alt",i.name),e.Y8G("src",i.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",i.name," "),e.R7$(3),e.JRh(i.gamesPlayed),e.R7$(3),e.Lme("",i.goalsFor,":",i.goalsAgainst,""),e.R7$(3),e.JRh(i.points)}}function K(t,n){if(1&t&&(e.j41(0,"ion-grid",49)(1,"ion-row",50)(2,"ion-col",36)(3,"div",51),e.EFF(4,"#"),e.k0s()(),e.j41(5,"ion-col",36),e.nrm(6,"div",52),e.k0s(),e.j41(7,"ion-col",39),e.EFF(8," t\xfdm "),e.k0s(),e.j41(9,"ion-col",36)(10,"div",51),e.EFF(11,"Z"),e.k0s()(),e.j41(12,"ion-col",36)(13,"div",53),e.EFF(14,"sk\xf3re"),e.k0s()(),e.j41(15,"ion-col",36)(16,"div",51),e.EFF(17,"B"),e.k0s()()(),e.DNE(18,W,22,15,"ion-row",54),e.k0s()),2&t){const i=e.XpG(2);e.R7$(18),e.Y8G("ngForOf",i.leagueTable)}}function V(t,n){1&t&&(e.j41(0,"div",69),e.nrm(1,"ion-icon",70),e.j41(2,"ion-text")(3,"p"),e.EFF(4,"Sestup"),e.k0s()()())}function z(t,n){if(1&t&&(e.j41(0,"div",65)(1,"div",66),e.nrm(2,"ion-icon",67),e.j41(3,"ion-text")(4,"p"),e.EFF(5,"Postup"),e.k0s()()(),e.DNE(6,V,5,0,"div",68),e.k0s()),2&t){const i=e.XpG(2);e.R7$(6),e.Y8G("ngIf",i.leagueTable.length>0)}}function J(t,n){1&t&&(e.j41(0,"p",45),e.EFF(1,"Tabulka nen\xed k dispozici."),e.k0s())}function q(t,n){1&t&&(e.j41(0,"div",43),e.nrm(1,"ion-spinner",44),e.j41(2,"p"),e.EFF(3,"Na\u010d\xedt\xe1m tabulku..."),e.k0s()())}function H(t,n){if(1&t&&(e.j41(0,"div"),e.DNE(1,K,19,1,"ion-grid",47)(2,z,7,1,"div",48)(3,J,2,0,"p",27)(4,q,4,0,"div",26),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.leagueTable.length>0),e.R7$(),e.Y8G("ngIf",i.leagueTable.length>0),e.R7$(),e.Y8G("ngIf",0==i.leagueTable.length&&i.team&&!i.isLoadingTable),e.R7$(),e.Y8G("ngIf",i.isLoadingTable)}}function Z(t,n){if(1&t){const i=e.RV6();e.j41(0,"ion-item",72),e.bIt("click",function(o){const d=e.eBV(i).$implicit,E=e.XpG(3);return e.Njj(E.onItemClick(o,d,"player"))}),e.j41(1,"ion-grid",13)(2,"ion-row",73)(3,"ion-col",36)(4,"div",37)(5,"ion-thumbnail",74),e.nrm(6,"img",20),e.k0s()()(),e.j41(7,"ion-col",39),e.EFF(8),e.k0s()()()()}if(2&t){const i=n.$implicit;e.R7$(6),e.FCK("alt","",i.first_name," ",i.second_name,""),e.Y8G("src",i.photoUrl,e.B4B),e.R7$(2),e.Lme(" ",i.first_name," ",i.second_name," ")}}function Q(t,n){if(1&t&&(e.j41(0,"ion-list",13),e.DNE(1,Z,9,6,"ion-item",71),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.players)}}function ee(t,n){1&t&&(e.j41(0,"p",45),e.EFF(1,"T\xfdm nem\xe1 na soupisce \u017e\xe1dn\xe9ho hr\xe1\u010de."),e.k0s())}function ie(t,n){1&t&&(e.j41(0,"div",43),e.nrm(1,"ion-spinner",44),e.j41(2,"p"),e.EFF(3,"Na\u010d\xedt\xe1m soupisku..."),e.k0s()())}function te(t,n){if(1&t&&(e.j41(0,"div"),e.DNE(1,Q,2,1,"ion-list",7)(2,ee,2,0,"p",27)(3,ie,4,0,"div",26),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.players.length>0),e.R7$(),e.Y8G("ngIf",0==i.players.length&&i.team&&!i.isLoadingPlayers),e.R7$(),e.Y8G("ngIf",i.isLoadingPlayers)}}let ae=(()=>{var t;class n{constructor(a,o,d,E,ne,oe,re,se,le,_e){this.route=a,this.router=o,this.tabsService=d,this.teamService=E,this.favouritesService=ne,this.navigationService=oe,this.leagueService=re,this.gameService=se,this.tableService=le,this.playerService=_e,this.activeTab="team",this.selectedSegment="results",this.gamesPlayed=[],this.gamesToPlay=[],this.favoriteTeams=[],this.leagueTable=[],this.players=[],this.isLoadingGames=!0,this.isLoadingTable=!0,this.isLoadingPlayers=!0}ngOnInit(){var a=this;return(0,f.A)(function*(){a.isLoadingTable=!0,a.isLoadingGames=!0,a.isLoadingPlayers=!0,a.tabsService.setActiveTab(a.activeTab);const o=a.route.snapshot.paramMap.get("id");if(o)try{const d=yield a.teamService.getTeam(o);if(!d)return;if(a.team=d,a.team.league_id)try{a.league=yield a.leagueService.loadLeagueForTeam(a.team.league_id),a.leagueTable=yield a.tableService.loadLeagueTable(a.team.league_id)}catch(E){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed ligy nebo tabulky:",E)}finally{a.isLoadingTable=!1}try{[a.gamesPlayed,a.gamesToPlay]=yield a.gameService.loadGamesWithTeams("team",a.team.id)}catch(E){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed z\xe1pas\u016f:",E)}finally{a.isLoadingGames=!1}try{a.players=yield a.playerService.getPlayersWithPhotos(a.team.id)}catch(E){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed hr\xe1\u010d\u016f:",E)}finally{a.isLoadingPlayers=!1}a.isFavoriteItem("team",a.team.id)}catch(d){console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed dat t\xfdmu:",d),a.isLoadingTable=!1,a.isLoadingGames=!1,a.isLoadingPlayers=!1}})()}navigateToTab(a){this.router.navigate([`../tabs/${a}`])}navigateToSearch(){this.router.navigate(["../search/"])}toggleFavorite(a,o){this.favouritesService.toggleFavorite(a,o)}isFavoriteItem(a,o){return this.favouritesService.isFavoriteItem(a,o)}onItemClick(a,o,d){this.navigationService.goToItem(a,o,d)}goToGameDetail(a){this.navigationService.goToGameDetail(a)}}return(t=n).\u0275fac=function(a){return new(a||t)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(D.q),e.rXU(b.n),e.rXU(_.c),e.rXU(m.o),e.rXU(r.N),e.rXU(p.w),e.rXU(h.a),e.rXU(y.x))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-team-detail"]],decls:17,vars:11,consts:[[3,"translucent"],["slot","start"],["menu","dynamic-menu"],[4,"ngIf"],["slot","end"],["slot","end","fill","clear",3,"color","click",4,"ngIf"],["defaultHref","/tabs/team"],["class","nomp",4,"ngIf"],["scrollable","true",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","end","fill","clear",3,"click","color"],[3,"name"],[1,"nomp"],[1,"ion-padding"],[1,"ion-align-items-center"],["size","6rem"],["class","prf",4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"prf"],[3,"src","alt"],["scrollable","true",3,"ngModelChange","ngModel"],["value","results"],["value","matches"],["value","table"],["value","playerslist"],["class","loading-message",4,"ngIf"],["class","ion-text-center ion-padding",4,"ngIf"],["class","no-border","button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",1,"no-border",3,"click"],["fixed","true",1,"p-nomar"],[1,"shadow-box"],[1,"roundanddate"],["size","6",1,"ion-text-left"],["size","6",1,"ion-text-right"],[1,"ion-align-items-center","main-info"],["size","auto"],[1,"square-cell","square-logo"],[1,"small","fixed"],[1,"team-name-cell"],[1,"square-cell","square-double"],[1,"result"],[1,"team-name-cell","tnc-away","ion-text-right"],[1,"loading-message"],["name","bubbles"],[1,"ion-text-center","ion-padding"],[1,"square-cell","square-logo-table"],["class","nomp shadow-box",4,"ngIf"],["class","symbol-description",4,"ngIf"],[1,"nomp","shadow-box"],[1,"tabhead"],[1,"square-cell","square-inner-header"],[1,"square-cell","square-logo-header"],[1,"square-cell","square-double-header"],["class","table-team",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"table-team",3,"click","ngClass"],[1,"ripple-wrapper","ion-activatable","ripple-parent","half-padding"],["class","square-cell square-inner first-team",4,"ngIf"],["class","square-cell square-inner last-team",4,"ngIf"],["class","square-cell square-inner middle-team",4,"ngIf"],[1,"square-cell","square-inner"],[1,"square-cell","square-inner","points"],[1,"square-cell","square-inner","first-team"],[1,"square-cell","square-inner","last-team"],[1,"square-cell","square-inner","middle-team"],[1,"symbol-description"],[1,"table-description","ion-margin-top"],["name","square",1,"icon-primary"],["class","table-description",4,"ngIf"],[1,"table-description"],["name","square",1,"icon-red"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"league-row"],["slot","start",1,"small","fixed"]],template:function(a,o){1&a&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button",2),e.k0s(),e.DNE(4,I,2,1,"ion-title",3)(5,k,2,0,"ion-title",3),e.j41(6,"ion-buttons",4),e.DNE(7,j,2,4,"ion-button",5),e.nrm(8,"ion-back-button",6),e.k0s()()(),e.j41(9,"ion-content"),e.DNE(10,O,6,2,"ion-card",7)(11,P,9,1,"ion-segment",8),e.j41(12,"div",9),e.DNE(13,M,4,3,"div",10)(14,A,4,3,"div",10)(15,H,5,4,"div",10)(16,te,4,3,"div",10),e.k0s()()),2&a&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("ngIf",o.team),e.R7$(),e.Y8G("ngIf",!o.team),e.R7$(2),e.Y8G("ngIf",o.team),e.R7$(3),e.Y8G("ngIf",o.team),e.R7$(),e.Y8G("ngIf",o.team),e.R7$(),e.Y8G("ngSwitch",o.selectedSegment),e.R7$(),e.Y8G("ngSwitchCase","results"),e.R7$(),e.Y8G("ngSwitchCase","matches"),e.R7$(),e.Y8G("ngSwitchCase","table"),e.R7$(),e.Y8G("ngSwitchCase","playerslist"))},dependencies:[T.MD,T.YU,T.Sq,T.bT,T.ux,T.e1,T.vh,s.bv,s.Jm,s.QW,s.b_,s.HW,s.tN,s.hU,s.W9,s.lO,s.eU,s.iq,s.uz,s.nf,s.MC,s.S7,s.ln,s.Gp,s.eP,s.w2,s.IO,s.Zx,s.BC,s.ai,s.Je,s.el,v.YN,v.BC,v.vS],encapsulation:2}),n})()},8378:(S,R,l)=>{l.d(R,{N:()=>e});var f=l(467),v=l(4438),s=l(689),T=l(9939);let e=(()=>{var u;class D{constructor(_,m){this.leagueRepo=_,this.imageRepo=m}loadLeagues(){var _=this;return(0,f.A)(function*(){const m=yield _.leagueRepo.getLeagues(),r={};return m.forEach(p=>{r[p.id]=p.name}),r})()}loadLeagueForTeam(_){var m=this;return(0,f.A)(function*(){try{return yield m.leagueRepo.getLeagueById(`${_}`)}catch(r){console.error("Error loading league:",r)}})()}getLeague(_){var m=this;return(0,f.A)(function*(){try{const r=yield m.leagueRepo.getLeagueById(_),p=yield m.imageRepo.getPhotoUrl(r.photo_url);return{...r,photoUrl:p}}catch(r){throw console.error("Error fetching league with photo URL:",r),r}})()}getLeagues(){var _=this;return(0,f.A)(function*(){return _.leagueRepo.getLeagues()})()}getLeaguesWithPhotos(){var _=this;return(0,f.A)(function*(){const m=yield _.leagueRepo.getLeagues();return yield Promise.all(m.map(function(){var p=(0,f.A)(function*(h){const y=yield _.imageRepo.getPhotoUrl(h.photo_url);return{...h,photoUrl:y}});return function(h){return p.apply(this,arguments)}}()))})()}}return(u=D).\u0275fac=function(_){return new(_||u)(v.KVO(s.C),v.KVO(T.U))},u.\u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),D})()},1074:(S,R,l)=>{l.d(R,{x:()=>e});var f=l(467),v=l(4438),s=l(4721),T=l(9939);let e=(()=>{var u;class D{constructor(_,m){this.playerRepo=_,this.imageRepo=m}getPlayersWithPhotos(_){var m=this;return(0,f.A)(function*(){try{let r;return r=_?yield m.playerRepo.getPlayersByTeamId(`${_}`):yield m.playerRepo.getPlayers(),yield Promise.all(r.map(function(){var h=(0,f.A)(function*(y){const F=yield m.imageRepo.getPhotoUrl(y.photo_url);return{...y,photoUrl:F}});return function(y){return h.apply(this,arguments)}}()))}catch(r){return console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed hr\xe1\u010d\u016f s fotkami:",r),[]}})()}getPlayer(_){var m=this;return(0,f.A)(function*(){try{const r=yield m.playerRepo.getPlayerById(_),p=yield m.imageRepo.getPhotoUrl(r.photo_url);return{...r,photoUrl:p}}catch(r){throw console.error("Error fetching player with photo URL:",r),r}})()}loadLineups(_){var m=this;return(0,f.A)(function*(){try{const r=yield m.playerRepo.getPlayersByGameId(_),p=yield Promise.all(r.map(function(){var c=(0,f.A)(function*(g){const x=yield m.playerRepo.getPlayerById(g.player_id);return{...g,player:x,id:x.id}});return function(g){return c.apply(this,arguments)}}())),h=["goalkeeper","defender","midfielder","attacker"],y=p.filter(c=>"home"===c.home_or_away&&"starter"===c.role).sort((c,g)=>h.indexOf(c.position)-h.indexOf(g.position)),F=p.filter(c=>"home"===c.home_or_away&&"bench"===c.role).sort((c,g)=>h.indexOf(c.position)-h.indexOf(g.position)),I=p.filter(c=>"away"===c.home_or_away&&"starter"===c.role).sort((c,g)=>h.indexOf(c.position)-h.indexOf(g.position)),k=p.filter(c=>"away"===c.home_or_away&&"bench"===c.role).sort((c,g)=>h.indexOf(c.position)-h.indexOf(g.position)),j=Math.max(y.length,I.length),G=Math.max(F.length,k.length),$=Array.from({length:j},(c,g)=>g),O=Array.from({length:G},(c,g)=>g),P={goalkeeper:0,defender:0,midfielder:0,attacker:0,other:0};return[...y,...F,...I,...k].forEach(c=>{switch(c.position){case"goalkeeper":P.goalkeeper++;break;case"defender":P.defender++;break;case"midfielder":P.midfielder++;break;case"attacker":P.attacker++;break;default:P.other++}}),{homeStarters:y,homeBench:F,awayStarters:I,awayBench:k,starters:j,benchers:G,startersIndexes:$,benchersIndexes:O,positionCounts:P}}catch(r){return console.error("Chyba p\u0159i na\u010d\xedt\xe1n\xed sestav:",r),{homeStarters:[],homeBench:[],awayStarters:[],awayBench:[],starters:0,benchers:0,startersIndexes:[],benchersIndexes:[],positionCounts:{goalkeeper:0,defender:0,midfielder:0,attacker:0,other:0}}}})()}}return(u=D).\u0275fac=function(_){return new(_||u)(v.KVO(s.I),v.KVO(T.U))},u.\u0275prov=v.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),D})()}}]);