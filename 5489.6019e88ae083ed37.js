"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5489],{5489:(D,f,r)=>{r.r(f),r.d(f,{GamesPageModule:()=>I});var g=r(177),_=r(4341),o=r(4742),p=r(7291),v=r(467),e=r(4438),G=r(1572),y=r(7159),l=r(7557),u=r(8378);function c(n,s){1&n&&(e.j41(0,"div",13),e.nrm(1,"ion-spinner",14),e.j41(2,"p"),e.EFF(3,"Na\u010d\xedt\xe1m z\xe1pasy..."),e.k0s()())}function m(n,s){if(1&n&&(e.j41(0,"p",34),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.result)}}function h(n,s){1&n&&(e.j41(0,"p",34),e.EFF(1,"-"),e.k0s())}function P(n,s){if(1&n){const t=e.RV6();e.j41(0,"ion-item",18),e.bIt("click",function(){const i=e.eBV(t).$implicit,d=e.XpG(4);return e.Njj(d.goToGameDetail(i.id))}),e.j41(1,"ion-grid",19)(2,"div",20)(3,"div",21)(4,"ion-row",22)(5,"ion-col",23)(6,"p"),e.EFF(7),e.k0s()(),e.j41(8,"ion-col",24)(9,"p"),e.EFF(10),e.nI1(11,"date"),e.k0s()()(),e.j41(12,"ion-row",25)(13,"ion-col",26)(14,"div",27)(15,"ion-thumbnail",28),e.nrm(16,"img",29),e.k0s()()(),e.j41(17,"ion-col",30),e.EFF(18),e.k0s(),e.j41(19,"ion-col",26)(20,"div",31),e.DNE(21,m,2,1,"p",32)(22,h,2,0,"p",32),e.k0s()(),e.j41(23,"ion-col",33),e.EFF(24),e.k0s(),e.j41(25,"ion-col",26)(26,"div",27)(27,"ion-thumbnail",28),e.nrm(28,"img",29),e.k0s()()()()()()()()}if(2&n){const t=s.$implicit;e.R7$(7),e.SpI("",t.round_number,". kolo"),e.R7$(3),e.JRh(e.i5U(11,10,t.date,"dd. MM. yyyy")),e.R7$(6),e.FS9("alt",t.homeTeam.name),e.Y8G("src",t.homeTeam.photoUrl,e.B4B),e.R7$(2),e.SpI(" ",t.homeTeam.name," "),e.R7$(3),e.Y8G("ngIf",t.result),e.R7$(),e.Y8G("ngIf",!t.result),e.R7$(2),e.SpI(" ",t.awayTeam.name," "),e.R7$(4),e.FS9("alt",t.awayTeam.name),e.Y8G("src",t.awayTeam.photoUrl,e.B4B)}}function E(n,s){if(1&n&&(e.qex(0),e.j41(1,"div",16),e.EFF(2),e.k0s(),e.j41(3,"ion-list"),e.DNE(4,P,29,13,"ion-item",17),e.k0s(),e.bVm()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.key),e.R7$(2),e.Y8G("ngForOf",t.value)}}function R(n,s){if(1&n&&(e.qex(0),e.DNE(1,E,5,2,"ng-container",15),e.bVm()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngForOf",t)}}function b(n,s){if(1&n&&(e.qex(0),e.DNE(1,R,2,1,"ng-container",10),e.nI1(2,"keyvalue"),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",e.bMT(2,1,t.games))}}function M(n,s){1&n&&(e.j41(0,"p",35),e.EFF(1," Tento den se nehraj\xed \u017e\xe1dn\xe1 utk\xe1n\xed. "),e.k0s())}function F(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",36)(1,"ion-datetime",37),e.bIt("ionChange",function(i){e.eBV(t);const d=e.XpG();return e.Njj(d.onDateChange(i))}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("value",t.selectedDate)}}const k=[{path:"",component:(()=>{var n;class s{constructor(a,i,d,j){this.gameService=a,this.tabsService=i,this.navigationService=d,this.leagueService=j,this.selectedDate=(new Date).toISOString(),this.isDateModalOpen=!1,this.isLoading=!1,this.games={},this.leaguesMap={}}ngOnInit(){var a=this;return(0,v.A)(function*(){a.isLoading=!0,a.tabsService.setActiveTab("team"),a.leaguesMap=yield a.leagueService.loadLeagues(),a.games=yield a.gameService.loadGamesByDate(a.leaguesMap,a.selectedDate),a.isLoading=!1})()}ionViewWillEnter(){this.tabsService.setActiveTab("team")}onDateChange(a){var i=this;return(0,v.A)(function*(){i.isLoading=!0,i.selectedDate=a.detail.value,i.isDateModalOpen=!1,i.games=yield i.gameService.loadGamesByDate(i.leaguesMap,i.selectedDate),i.isLoading=!1})()}get hasNoGames(){return!this.isLoading&&0===Object.keys(this.games).length}goToGameDetail(a){this.navigationService.goToGameDetail(a)}}return(n=s).\u0275fac=function(a){return new(a||n)(e.rXU(G.w),e.rXU(y.q),e.rXU(l.o),e.rXU(u.N))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-games"]],standalone:!1,decls:22,vars:10,consts:[[3,"translucent"],["slot","start"],["menu","dynamic-menu"],["slot","end"],[3,"routerLink"],["slot","icon-only","name","search",1,"color-light"],[1,"nomp"],[3,"click"],["slot","start","name","calendar-outline"],["class","loading-message",4,"ngIf"],[4,"ngIf"],["class","ion-text-center ion-padding",4,"ngIf"],["cssClass","custom-date-modal",3,"didDismiss","isOpen"],[1,"loading-message"],["name","bubbles"],[4,"ngFor","ngForOf"],[1,"ion-text-center","tabhead"],["class","no-border bg-color","button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",1,"no-border","bg-color",3,"click"],["fixed","true",1,"p-nomar"],[1,"shadow-box"],[1,"rounded-item"],[1,"roundanddate"],["size","6",1,"ion-text-left"],["size","6",1,"ion-text-right"],[1,"ion-align-items-center","main-info"],["size","auto"],[1,"square-cell","square-logo"],[1,"small","fixed"],[3,"src","alt"],[1,"team-name-cell"],[1,"square-cell","square-double"],["class","result",4,"ngIf"],[1,"team-name-cell","tnc-away","ion-text-right"],[1,"result"],[1,"ion-text-center","ion-padding"],[1,"centered-container"],["presentation","date","show-default-buttons","true","done-text","OK","cancel-text","Zru\u0161it",1,"ion-margin",3,"ionChange","value"]],template:function(a,i){1&a&&(e.j41(0,"ion-app")(1,"ion-header",0)(2,"ion-toolbar")(3,"ion-buttons",1),e.nrm(4,"ion-menu-button",2),e.k0s(),e.j41(5,"ion-title"),e.EFF(6," Z\xe1pasy "),e.k0s(),e.j41(7,"ion-buttons",3)(8,"ion-button",4),e.nrm(9,"ion-icon",5),e.k0s()()()(),e.j41(10,"ion-content")(11,"ion-card",6)(12,"ion-card-header")(13,"ion-button",7),e.bIt("click",function(){return i.isDateModalOpen=!0}),e.nrm(14,"ion-icon",8),e.EFF(15),e.nI1(16,"date"),e.k0s()()(),e.DNE(17,c,4,0,"div",9)(18,b,3,3,"ng-container",10)(19,M,2,0,"p",11),e.k0s(),e.j41(20,"ion-modal",12),e.bIt("didDismiss",function(){return i.isDateModalOpen=!1}),e.DNE(21,F,2,1,"ng-template"),e.k0s()()),2&a&&(e.R7$(),e.Y8G("translucent",!0),e.R7$(7),e.Y8G("routerLink","../../search"),e.R7$(7),e.SpI(" ",e.i5U(16,7,i.selectedDate,"dd.MM.yyyy")," "),e.R7$(2),e.Y8G("ngIf",i.isLoading),e.R7$(),e.Y8G("ngIf",!i.isLoading),e.R7$(),e.Y8G("ngIf",i.hasNoGames),e.R7$(),e.Y8G("isOpen",i.isDateModalOpen))},dependencies:[g.Sq,g.bT,o.U1,o.Jm,o.QW,o.b_,o.ME,o.hU,o.W9,o.A9,o.lO,o.eU,o.iq,o.uz,o.nf,o.MC,o.ln,o.w2,o.Zx,o.BC,o.ai,o.Sb,o.Je,o.N7,p.Wk,g.vh,g.lG],styles:[".custom-date-modal{--background: transparent;--backdrop-opacity: .4;--box-shadow: none}.centered-container[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-list[_ngcontent-%COMP%]{background-color:var(--ion-color-quaternary)}ion-picker[_ngcontent-%COMP%]{--background: var(--ion-color-light)}ion-datetime[_ngcontent-%COMP%]{--wheel-highlight-background: var(--ion-color-quaternary);--background: var(--ion-color-light);--wheel-fade-background: var(--ion-color-light)}"]}),s})()}];let T=(()=>{var n;class s{}return(n=s).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.iI.forChild(k),p.iI]}),s})(),I=(()=>{var n;class s{}return(n=s).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[g.MD,_.YN,o.bv,T]}),s})()},8378:(D,f,r)=>{r.d(f,{N:()=>v});var g=r(467),_=r(4438),o=r(689),p=r(9939);let v=(()=>{var e;class G{constructor(l,u){this.leagueRepo=l,this.imageRepo=u}loadLeagues(){var l=this;return(0,g.A)(function*(){const u=yield l.leagueRepo.getLeagues(),c={};return u.forEach(m=>{c[m.id]=m.name}),c})()}loadLeagueForTeam(l){var u=this;return(0,g.A)(function*(){try{return yield u.leagueRepo.getLeagueById(`${l}`)}catch(c){console.error("Error loading league:",c)}})()}getLeague(l){var u=this;return(0,g.A)(function*(){try{const c=yield u.leagueRepo.getLeagueById(l),m=yield u.imageRepo.getPhotoUrl(c.photo_url);return{...c,photoUrl:m}}catch(c){throw console.error("Error fetching league with photo URL:",c),c}})()}getLeagues(){var l=this;return(0,g.A)(function*(){return l.leagueRepo.getLeagues()})()}getLeaguesWithPhotos(){var l=this;return(0,g.A)(function*(){const u=yield l.leagueRepo.getLeagues();return yield Promise.all(u.map(function(){var m=(0,g.A)(function*(h){const P=yield l.imageRepo.getPhotoUrl(h.photo_url);return{...h,photoUrl:P}});return function(h){return m.apply(this,arguments)}}()))})()}}return(e=G).\u0275fac=function(l){return new(l||e)(_.KVO(o.C),_.KVO(p.U))},e.\u0275prov=_.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),G})()}}]);